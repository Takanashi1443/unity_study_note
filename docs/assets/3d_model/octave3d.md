## アセットの使い方 - 3Dモデル(ツール) - Octave3D-Level Design

-[アセットの使い方へ](./../)

### 概要

\$82.5で販売。（2021/11時点）

学習コストはかなり高いらしいが、強力なレベルデザインツール。

### 導入

Levelなどの名前で親となるGameObjectをCreate Emptyする。

それに対し、「Scripts」→「O3DWB」→「Octave 3D World Builder」をAdd Component。

すると、Worldにグリッドのようなものが描画され、Inspectorから様々なメニューを選べるようになる。

メインメニューには

- オブジェクト配置（Aキー）
- オブジェクト選択（Sキー）
- オブジェクト消去（Dキー）
- スナップツール
- 仕上げツール（メッシュ結合など）

がある。

### 使用

#### プレハブの登録

オブジェクト配置メニューから「Prefabs..」ボタンをクリックすると「Prefab Manage」ウィンドウが開く。

使用したいプレハブを入れる。フォルダごとにD\&Dも可能。その場合、フォルダ名が自動でカテゴリ名になる（後で変えられる）。

登録したプレハブはプレビュー表示される。

プレハブのプレビュー表示中も、新たにProjectビューからプレハブをD\&Dすると登録可能。

#### プレハブの配置

Prefab Manageウィンドウでプレハブを選択した上でシーンビュー上にカーソルを置くと、グリッドの高さでプレハブを配置するような配置プレビューが出る。

この状態では、プレハブの中心および四方にpivotの表示が出て、黄色い（ハイライトされている）pivotがグリッドにスナップするようにオブジェクトが配置される。

既にオブジェクトが置いてある場所に対しては、上に重なるように配置される。

配置中にショートカットキーを使える。

Yキー
: Y軸方向にオブジェクトを90°回転。（壁の向きを変える時などに使う）
: Cキーでも似た動作をするが、厳密にはCキーは床の法線の軸に対して回転する。

Jキー
: ハイライトするpivotを順番に切り替える。

Ctrl \+ Shift \+ マウス横移動
: 配置するオブジェクトを拡大縮小。

Oキー
: 拡大縮小を元のスケールに戻す。

Shift \+ Yキー \+ マウス横移動
: Y軸方向に配置するオブジェクトを任意の角度回転。（ランダムな感じで配置したい時に使う）

Iキー
: 回転を元の角度に戻す。

Nキー
: 押下時、オブジェクトの上端を基準に配置する。
: (通常はオブジェクトの下端を基準に配置する。階段や、厚みのある床に使用する)

Uキー
: グリッドにスナップする\/しないを切り替える。

#### オブジェクト配置される親のGameObjectを設定（ObjectGroup）

通常、HierachyはWorld BuilderがアタッチされているGameObjectなどに配置したい。

しかし、初期状態だとHierachyのシーン直下に配置されてしまう。任意のGameObject下に配置してグルーピングできるよう、ObjectGroupという仕組みがある。

![ObjectGroupの設定](./media/octave3d_object_group.png)

作成したいグループ名を選んで「Create Group」(1)を実行すると、新たにGameObjectが作成される(2)。

Object Placement Settingsで「Attach to Object Group」にチェックを入れる(3)と、ルートでなくそのGameObject下に配置されるようになる。

- (2)で作成したGameObjectはHierachy上の好きな位置に移動できる。
- (2)で作成したGameObjectはおそらく内部的に参照が保持されている。
  - GameObjectの名前を変えたい場合、ObjectGroupsの「Name」を変更する。（Hierachy上で変更しても勝手に戻る）
  - 同名のGameObjectをHierachy上に作成しても、ちゃんと最初に作成されたGameObject下に配置される。
















